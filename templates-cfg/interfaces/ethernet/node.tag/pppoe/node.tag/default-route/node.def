#
# Configuration template for the .../pppoe/node.tag/default-route
# parameter
# 
# 
# This parameter has two possible values: "auto" and "none". If the
# parameter value is "auto", or if the parameter itself does not
# exist, then ppp will automatically add a default route pointing to
# the endpoint of the link when the link comes up.  The default route
# will only be added if no other default route already exists in the
# system.  If the parameter value is "none", no default route will be
# added.
# 

type: txt

help: "Enable/disable automaticly adding default route to peer when link comes up"

syntax: $(@) in "auto","none" ; "Must be either auto or none"

update: "sudo sed -i '/^defaultroute/d' /etc/ppp/peers/pppoe$(../@) ; \
	if [ \"$(@)\" = \"auto\" ]; then \
	        sudo echo defaultroute >> /etc/ppp/peers/pppoe$(../@) ; \
	fi"

#
# If this parameter is deleted, behave as if it were set to "auto"
#
delete: "sudo sed -i '/^defaultroute/d' /etc/ppp/peers/pppoe$(../@) ; \
	 sudo echo defaultroute >> /etc/ppp/peers/pppoe$(../@)"
